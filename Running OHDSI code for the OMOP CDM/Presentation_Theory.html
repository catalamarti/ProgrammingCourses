<!DOCTYPE html>
<html lang="en"><head>
<script src="Presentation_Theory_files/libs/clipboard/clipboard.min.js"></script>
<script src="Presentation_Theory_files/libs/quarto-html/tabby.min.js"></script>
<script src="Presentation_Theory_files/libs/quarto-html/popper.min.js"></script>
<script src="Presentation_Theory_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Presentation_Theory_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Presentation_Theory_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Presentation_Theory_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.36">

  <meta name="author" content="Marti Catala Sabate">
  <title>Running OHDSI code for the OMOP CDM</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Presentation_Theory_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Presentation_Theory_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Presentation_Theory_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="Presentation_Theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Presentation_Theory_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Presentation_Theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Presentation_Theory_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Running OHDSI code for the OMOP CDM</h1>
  <p class="author">Marti Catala Sabate</p>
</section>

<section id="catch-up" class="slide level2">
<h2>Catch-up</h2>
<p>Yesterday we learnt:</p>
<ul>
<li>To connect to the database.</li>
<li>Use CDMConnector.</li>
<li>Use Eunomia mock database (or other databases that you have used).</li>
<li>Use dplyr commands to manipulate data: %&gt;%, group_by, ungroup, tally, rename, select, distinct, summarise, show_query, mutate, filter, right_join, left_join, inner_join, full_join, semi_join, anti_join, union, union_all, compute, collect, pull.</li>
</ul>
</section>
<section id="todays-goals" class="slide level2">
<h2>Today’s goals</h2>
<ul>
<li>Connect to the database using <a href="https://github.com/OHDSI/DatabaseConnector">databaseConnector</a>.</li>
<li>Concept set and cohort definitions.</li>
<li>Built a concept set using <a href="https://github.com/darwin-eu/CodelistGenerator">CodelistGenerator</a>.</li>
<li>Built a cohort definition using <a href="https://academy.ehden.eu/course/view.php?id=8">ATLAS</a>.</li>
<li>Instantiate a cohort in the database using <a href="https://github.com/OHDSI/CohortGenerator">CohortGenerator</a>.</li>
<li>Evaluate a cohort with <a href="https://github.com/OHDSI/CohortDiagnostics/">CohortDiagnostics</a>.</li>
<li>Compute the incidence and prevalence using <a href="https://github.com/darwin-eu/IncidencePrevalence/">IncidencePrevalence</a>.</li>
</ul>
</section>
<section id="databaseconnector" class="slide level2">
<h2>DatabaseConnector</h2>
<p>Yesterday we saw the DBI package, the standard way to connect to a database.</p>
<p>But OHDSI has their own way to connect to the database using <a href="https://github.com/OHDSI/DatabaseConnector">databaseConnector</a> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>server     <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_SERVER"</span>) <span class="co"># different to server_dbi!</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>user       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_USER"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>password   <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_PASSWORD"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>port       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_PORT"</span>) </span>
<span id="cb1-5"><a href="#cb1-5"></a>host       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_HOST"</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a>dialect    <span class="ot">&lt;-</span> <span class="st">"postgresql"</span></span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a>connectionDetails <span class="ot">&lt;-</span> DatabaseConnector<span class="sc">::</span><span class="fu">downloadJdbcDrivers</span>(dialect, here<span class="sc">::</span><span class="fu">here</span>())</span>
<span id="cb1-9"><a href="#cb1-9"></a>connectionDetails <span class="ot">&lt;-</span> DatabaseConnector<span class="sc">::</span><span class="fu">createConnectionDetails</span>(</span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="at">dbms =</span> dialect, <span class="at">server =</span> server,</span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="at">user =</span> user, <span class="at">password =</span> password,</span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="at">port =</span> port, <span class="at">pathToDriver =</span> here<span class="sc">::</span><span class="fu">here</span>()</span>
<span id="cb1-13"><a href="#cb1-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concept-set-and-cohort-definitions" class="slide level2">
<h2>Concept set and cohort definitions</h2>
<h3 id="concept-set">concept set:</h3>
<p>Concept sets provides the ability to create collections of logical expres sions that can be used to identify a set of concepts to be used throughout your stan dardized analyses.</p>
<p>Simplification: list of codes.</p>
<h3 id="cohort-definition">cohort definition:</h3>
<p>Cohort definitions is the ability to construct a set of persons who satisfy one or more criteria for a duration of time and these cohorts can then serve as the basis of inputs for all of your subsequent analyses.</p>
<p>Simplification: CONCEPT SETS + a certain LOGIC.</p>
</section>
<section id="concept-set-and-cohort-definitions-1" class="slide level2">
<h2>Concept set and cohort definitions</h2>
<h3 id="example-of-concept-set">Example of concept set:</h3>
<p>Bells Palsy: 4091559, 36716396, 4048018.</p>
<p>We export them as Json files.</p>

<img data-src="Presentation_Theory_files/conceptSet.png" class="r-stretch"></section>
<section id="concept-set-and-cohort-definitions-2" class="slide level2">
<h2>Concept set and cohort definitions</h2>
<h3 id="example-of-cohort-definition">Example of cohort definition:</h3>

<img data-src="Presentation_Theory_files/cohort.png" class="r-stretch"></section>
<section id="concept-set-and-cohort-definitions-3" class="slide level2">
<h2>Concept set and cohort definitions</h2>
<h3 id="example-of-cohort-definition-1">Example of cohort definition:</h3>

<img data-src="Presentation_Theory_files/cohort2.png" class="r-stretch"></section>
<section id="lets-build-a-concept-set" class="slide level2">
<h2>Let’s build a concept set</h2>
<p>To so we are going to use CodelistGenerator.</p>
<p>First step, install the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"darwin-eu/CodelistGenerator"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The package has good vignettes that can be very useful to understand how the package and its functions works: <a href="https://darwin-eu.github.io/CodelistGenerator/index.html" class="uri">https://darwin-eu.github.io/CodelistGenerator/index.html</a></p>
</section>
<section id="codelistgenerator" class="slide level2">
<h2>CodelistGenerator</h2>
<p>Example how to build a concept set:</p>
<ol type="1">
<li>Connect to a database (eunomia don’t have the full version of the vocabulary, so connect to your own database):</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">cdm_from_con</span>(</span>
<span id="cb3-2"><a href="#cb3-2"></a>  con,</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="at">cdm_schema =</span> <span class="st">"public"</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="at">cdm_tables =</span> tidyselect<span class="sc">::</span><span class="fu">all_of</span>(<span class="fu">c</span>(</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="st">"concept"</span>, <span class="st">"concept_relationship"</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="st">"concept_ancestor"</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="st">"concept_synonym"</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="st">"vocabulary"</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  ))</span>
<span id="cb3-10"><a href="#cb3-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="codelistgenerator-1" class="slide level2">
<h2>CodelistGenerator</h2>
<p>We want to build a “pancreatitis” concept set. So let’s have a preliminary list of codes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>proposed_list <span class="ot">&lt;-</span> <span class="fu">getCandidateCodes</span>(</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="at">keywords =</span> <span class="st">"pancreatitis"</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="at">domains =</span> <span class="st">"Condition"</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="at">includeDescendants =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="at">searchViaSynonyms =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="at">cdm =</span> cdm</span>
<span id="cb4-7"><a href="#cb4-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="codelistgenerator-2" class="slide level2">
<h2>CodelistGenerator</h2>
<p>We have 57 candidates:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   concept_id                                           concept_name domain_id
1      195596                                   Chronic pancreatitis condition
2      196628                                     Mumps pancreatitis condition
3      199074                                     Acute pancreatitis condition
4      763030   Calculus of common bile duct with acute pancreatitis condition
5     3654680                        Chronic infectious pancreatitis condition
6     3655446                   Pleural effusion due to pancreatitis condition
7     4026157                           Acute recurrent pancreatitis condition
8     4026158                         Acute suppurative pancreatitis condition
9     4082334                           Post-ERCP acute pancreatitis condition
10    4088042                               Suppurative pancreatitis condition
11    4102255                          Calcific chronic pancreatitis condition
12    4121819                                 Relapsing pancreatitis condition
13    4124691                                 Recurrent pancreatitis condition
14    4125494                         Pancytopenia with pancreatitis condition
15    4147231                                Apoplectic pancreatitis condition
16    4185268                         Acute hemorrhagic pancreatitis condition
17    4192249                         Chronic fibrosing pancreatitis condition
18    4192640                                           Pancreatitis condition
19    4194916                                Hereditary pancreatitis condition
20    4211348           Aplastic anemia associated with pancreatitis condition
21    4241838                                 Metabolic pancreatitis condition
22    4243504                                  Subacute pancreatitis condition
23    4262809      Subcutaneous nodular fat necrosis in pancreatitis condition
24    4262937                              Interstitial pancreatitis condition
25    4303234                         Acute necrotizing pancreatitis condition
26    4309439                                Infectious pancreatitis condition
27    4319446                                 Gallstone pancreatitis condition
28    4337316                                  Painless pancreatitis condition
29    4340493                     Alcohol-induced acute pancreatitis condition
30    4340494                       Postoperative acute pancreatitis condition
31    4340495                           Traumatic acute pancreatitis condition
32    4340496                        Idiopathic chronic pancreatitis condition
33    4340960                          Idiopathic acute pancreatitis condition
34    4340961                        Drug-induced acute pancreatitis condition
35    4340962                           Cytomegaloviral pancreatitis condition
36    4340963                         Gallstone chronic pancreatitis condition
37    4340964                   Alcohol-induced chronic pancreatitis condition
38    4341073                      Drug-induced chronic pancreatitis condition
39    4341074                          Familial chronic pancreatitis condition
40    4341763                           Gallstone acute pancreatitis condition
41    4341764                    Acute pancreatitis due to infection condition
42    4341765                               Viral acute pancreatitis condition
43    4342865                            Familial acute pancreatitis condition
44    4342866                       Obstructive chronic pancreatitis condition
45   35624505 Chronic pancreatitis due to acute alcohol intoxication condition
46   36675120                Follicular cholangitis and pancreatitis condition
47   36715932                          Acute on chronic pancreatitis condition
48   36716513        Pancreatitis due to pancreatic duct obstruction condition
49   36716714                                    Groove pancreatitis condition
50   36716715                         Autoimmune pancreatitis type 1 condition
51   37110323                 Tropical calcific chronic pancreatitis condition
52   40483827                           Alcohol-induced pancreatitis condition
53   40490446                                Autoimmune pancreatitis condition
54   44806251                             Biliary acute pancreatitis condition
55   45757494         Chronic pancreatitis due to chronic alcoholism condition
56   46274136    Acute pancreatitis due to common bile duct calculus condition
57    4164003                       Inflammation of ampulla of Vater condition
   concept_class_id vocabulary_id          found_from
1  clinical finding        snomed From initial search
2  clinical finding        snomed From initial search
3  clinical finding        snomed From initial search
4  clinical finding        snomed From initial search
5  clinical finding        snomed From initial search
6  clinical finding        snomed From initial search
7  clinical finding        snomed From initial search
8  clinical finding        snomed From initial search
9  clinical finding        snomed From initial search
10 clinical finding        snomed From initial search
11 clinical finding        snomed From initial search
12 clinical finding        snomed From initial search
13 clinical finding        snomed From initial search
14 clinical finding        snomed From initial search
15 clinical finding        snomed From initial search
16 clinical finding        snomed From initial search
17 clinical finding        snomed From initial search
18 clinical finding        snomed From initial search
19 clinical finding        snomed From initial search
20 clinical finding        snomed From initial search
21 clinical finding        snomed From initial search
22 clinical finding        snomed From initial search
23 clinical finding        snomed From initial search
24 clinical finding        snomed From initial search
25 clinical finding        snomed From initial search
26 clinical finding        snomed From initial search
27 clinical finding        snomed From initial search
28 clinical finding        snomed From initial search
29 clinical finding        snomed From initial search
30 clinical finding        snomed From initial search
31 clinical finding        snomed From initial search
32 clinical finding        snomed From initial search
33 clinical finding        snomed From initial search
34 clinical finding        snomed From initial search
35 clinical finding        snomed From initial search
36 clinical finding        snomed From initial search
37 clinical finding        snomed From initial search
38 clinical finding        snomed From initial search
39 clinical finding        snomed From initial search
40 clinical finding        snomed From initial search
41 clinical finding        snomed From initial search
42 clinical finding        snomed From initial search
43 clinical finding        snomed From initial search
44 clinical finding        snomed From initial search
45 clinical finding        snomed From initial search
46 clinical finding        snomed From initial search
47 clinical finding        snomed From initial search
48 clinical finding        snomed From initial search
49 clinical finding        snomed From initial search
50 clinical finding        snomed From initial search
51 clinical finding        snomed From initial search
52 clinical finding        snomed From initial search
53 clinical finding        snomed From initial search
54 clinical finding        snomed From initial search
55 clinical finding        snomed From initial search
56 clinical finding        snomed From initial search
57 clinical finding        snomed    From descendants</code></pre>
</div>
</div>
</section>
<section id="validation" class="slide level2">
<h2>Validation</h2>
<p>This is just a preliminary list. At this stage we must review the concept list and together with some experts decide which concepts we want to exclude. In our case we decided to exclude 5 concepts:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   concept_id                     concept_name
19    4194916          Hereditary pancreatitis
31    4340495     Traumatic acute pancreatitis
39    4341074    Familial chronic pancreatitis
43    4342865      Familial acute pancreatitis
57    4164003 Inflammation of ampulla of Vater</code></pre>
</div>
</div>
</section>
<section id="validation-1" class="slide level2">
<h2>Validation</h2>
<p>We can update our concept list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>concept_set_pancratitis <span class="ot">&lt;-</span> preliminary_concept_list[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">19</span>,<span class="dv">31</span>,<span class="dv">39</span>,<span class="dv">43</span>,<span class="dv">57</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can create an exportable json file and save it:</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>concept_set_json_pancratitis <span class="ot">&lt;-</span> <span class="fu">getJsonFileFromConceptList</span>(concept_set_pancratitis, cdm)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">writeChar</span>(concept_set_json_pancratitis, <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"concept_set_pancreatitis.json"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concept-set-1" class="slide level2">
<h2>Concept set</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>{
  "items": [{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "838375006",
      "CONCEPT_ID": 3654680,
      "CONCEPT_NAME": "Chronic infectious pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2020-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235952002",
      "CONCEPT_ID": 4340964,
      "CONCEPT_NAME": "Alcohol-induced chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235953007",
      "CONCEPT_ID": 4340496,
      "CONCEPT_NAME": "Idiopathic chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "771446000",
      "CONCEPT_ID": 36675120,
      "CONCEPT_NAME": "Follicular cholangitis and pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2019-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "4399003",
      "CONCEPT_ID": 4185268,
      "CONCEPT_NAME": "Acute hemorrhagic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "74973004",
      "CONCEPT_ID": 4192249,
      "CONCEPT_NAME": "Chronic fibrosing pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "277537008",
      "CONCEPT_ID": 4082334,
      "CONCEPT_NAME": "Post-ERCP acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "24407009",
      "CONCEPT_ID": 4088042,
      "CONCEPT_NAME": "Suppurative pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "197460005",
      "CONCEPT_ID": 4026158,
      "CONCEPT_NAME": "Acute suppurative pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "435211000124107",
      "CONCEPT_ID": 763030,
      "CONCEPT_NAME": "Calculus of common bile duct with acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2013-09-01",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235943006",
      "CONCEPT_ID": 4340960,
      "CONCEPT_NAME": "Idiopathic acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "7881005",
      "CONCEPT_ID": 4303234,
      "CONCEPT_NAME": "Acute necrotizing pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "44636008",
      "CONCEPT_ID": 4262937,
      "CONCEPT_NAME": "Interstitial pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "724540009",
      "CONCEPT_ID": 37110323,
      "CONCEPT_NAME": "Tropical calcific chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2017-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235947007",
      "CONCEPT_ID": 4340962,
      "CONCEPT_NAME": "Cytomegaloviral pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "197456007",
      "CONCEPT_ID": 199074,
      "CONCEPT_NAME": "Acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "721724009",
      "CONCEPT_ID": 36715932,
      "CONCEPT_NAME": "Acute on chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2017-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "233870001",
      "CONCEPT_ID": 4124691,
      "CONCEPT_NAME": "Recurrent pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "722871007",
      "CONCEPT_ID": 36716714,
      "CONCEPT_NAME": "Groove pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2017-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "722544004",
      "CONCEPT_ID": 36716513,
      "CONCEPT_NAME": "Pancreatitis due to pancreatic duct obstruction",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2017-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235944000",
      "CONCEPT_ID": 4340961,
      "CONCEPT_NAME": "Drug-induced acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "95563007",
      "CONCEPT_ID": 4319446,
      "CONCEPT_NAME": "Gallstone pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "59154002",
      "CONCEPT_ID": 4243504,
      "CONCEPT_NAME": "Subacute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "413566007",
      "CONCEPT_ID": 4211348,
      "CONCEPT_NAME": "Aplastic anemia associated with pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2005-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "301009006",
      "CONCEPT_ID": 4102255,
      "CONCEPT_NAME": "Calcific chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "722872000",
      "CONCEPT_ID": 36716715,
      "CONCEPT_NAME": "Autoimmune pancreatitis type 1",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2017-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235954001",
      "CONCEPT_ID": 4342866,
      "CONCEPT_NAME": "Obstructive chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235946003",
      "CONCEPT_ID": 4341765,
      "CONCEPT_NAME": "Viral acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235945004",
      "CONCEPT_ID": 4341764,
      "CONCEPT_NAME": "Acute pancreatitis due to infection",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "197458008",
      "CONCEPT_ID": 4026157,
      "CONCEPT_NAME": "Acute recurrent pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "234689009",
      "CONCEPT_ID": 4121819,
      "CONCEPT_NAME": "Relapsing pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235948002",
      "CONCEPT_ID": 4340494,
      "CONCEPT_NAME": "Postoperative acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "448542008",
      "CONCEPT_ID": 40490446,
      "CONCEPT_NAME": "Autoimmune pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2011-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235941008",
      "CONCEPT_ID": 4341763,
      "CONCEPT_NAME": "Gallstone acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "154211000119108",
      "CONCEPT_ID": 45757494,
      "CONCEPT_NAME": "Chronic pancreatitis due to chronic alcoholism",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2014-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235494005",
      "CONCEPT_ID": 195596,
      "CONCEPT_NAME": "Chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "445507008",
      "CONCEPT_ID": 40483827,
      "CONCEPT_NAME": "Alcohol-induced pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2010-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "303002",
      "CONCEPT_ID": 4147231,
      "CONCEPT_NAME": "Apoplectic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "234367000",
      "CONCEPT_ID": 4125494,
      "CONCEPT_NAME": "Pancytopenia with pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "46626002",
      "CONCEPT_ID": 4262809,
      "CONCEPT_NAME": "Subcutaneous nodular fat necrosis in pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "96081000119101",
      "CONCEPT_ID": 46274136,
      "CONCEPT_NAME": "Acute pancreatitis due to common bile duct calculus",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2015-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "39205007",
      "CONCEPT_ID": 4309439,
      "CONCEPT_NAME": "Infectious pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "59329007",
      "CONCEPT_ID": 4241838,
      "CONCEPT_NAME": "Metabolic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235942001",
      "CONCEPT_ID": 4340493,
      "CONCEPT_NAME": "Alcohol-induced acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "863978006",
      "CONCEPT_ID": 3655446,
      "CONCEPT_NAME": "Pleural effusion due to pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2020-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "75694006",
      "CONCEPT_ID": 4192640,
      "CONCEPT_NAME": "Pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "10665004",
      "CONCEPT_ID": 196628,
      "CONCEPT_NAME": "Mumps pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "233005009",
      "CONCEPT_ID": 4337316,
      "CONCEPT_NAME": "Painless pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "811431000000107",
      "CONCEPT_ID": 44806251,
      "CONCEPT_NAME": "Biliary acute pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2012-04-01",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "767291004",
      "CONCEPT_ID": 35624505,
      "CONCEPT_NAME": "Chronic pancreatitis due to acute alcohol intoxication",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2018-07-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235955000",
      "CONCEPT_ID": 4341073,
      "CONCEPT_NAME": "Drug-induced chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  },
{
    "concept": {
      "CONCEPT_CLASS_ID": "Clinical Finding",
      "CONCEPT_CODE": "235951009",
      "CONCEPT_ID": 4340963,
      "CONCEPT_NAME": "Gallstone chronic pancreatitis",
      "DOMAIN_ID": "Condition",
      "INVALID_REASON": "V",
      "INVALID_REASON_CAPTION": "Valid",
      "STANDARD_CONCEPT": "S",
      "STANDARD_CONCEPT_CAPTION": "Standard",
      "VOCABULARY_ID": "SNOMED",
      "VALID_START_DATE": "2002-01-31",
      "VALID_END_DATE": "valid_end_date"
    },
    "isExcluded": false,
    "includeDescendants": false,
    "includeMapped": false
  }  ]
}</code></pre>
</div>
</div>
</section>
<section id="lets-move-to-atlas" class="slide level2">
<h2>Let’s move to ATLAS</h2>
<p>Using ATLAS we can build a concept set from the data obtained from</p>

<img data-src="Presentation_Theory_files/atlas.png" class="r-stretch quarto-figure-center"></section>
<section id="we-have-a-cohort" class="slide level2">
<h2>We have a cohort</h2>
<p>If we instantiated it from ATLAS we can read it directly from the cohort table in results schema.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">cdm_from_con</span>(</span>
<span id="cb10-2"><a href="#cb10-2"></a>  cdm,</span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="at">cdm_schema =</span> <span class="st">"public"</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="at">write_schema =</span> <span class="st">"results"</span>,</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="at">cohort_tables =</span> <span class="st">"cohort"</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>)</span>
<span id="cb10-7"><a href="#cb10-7"></a>cdm<span class="sc">$</span>cohort <span class="co"># go to ATLAS to check that numbers are correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="Presentation_Theory_files/cohort3.png" class="r-stretch quarto-figure-center"></section>
<section id="cohortgenerator" class="slide level2">
<h2>CohortGenerator</h2>
<p>Or we may be interested to instantiate our cohort in a table in this case using <a href="https://github.com/OHDSI/CohortGenerator">CohortGenerator</a> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># create empty cohort definition set</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>cohortsToCreate <span class="ot">&lt;-</span> CohortGenerator<span class="sc">::</span><span class="fu">createEmptyCohortDefinitionSet</span>()</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co"># read the folder that contain the JsonFiles</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>cohortJsonFiles <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"Cohorts"</span>), <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># for each one of the cohorts we:</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(cohortJsonFiles)) {</span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="co"># 1) obtain its name</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  cohortJsonFileName <span class="ot">&lt;-</span> cohortJsonFiles[i]</span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="co"># 2) Remove the extension and previous path to the name</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>  cohortName <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">file_path_sans_ext</span>(<span class="fu">basename</span>(cohortJsonFileName))</span>
<span id="cb11-11"><a href="#cb11-11"></a>  <span class="co"># 3) Read the Json file</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>  cohortJson <span class="ot">&lt;-</span> <span class="fu">readChar</span>(cohortJsonFileName, <span class="fu">file.info</span>(cohortJsonFileName)<span class="sc">$</span>size)</span>
<span id="cb11-13"><a href="#cb11-13"></a>  <span class="co"># 4) Convert the Json to expression</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>  cohortExpression <span class="ot">&lt;-</span> CirceR<span class="sc">::</span><span class="fu">cohortExpressionFromJson</span>(cohortJson)</span>
<span id="cb11-15"><a href="#cb11-15"></a>  <span class="co"># 5) Convert the expression to the SQL</span></span>
<span id="cb11-16"><a href="#cb11-16"></a>  cohortSql <span class="ot">&lt;-</span> CirceR<span class="sc">::</span><span class="fu">buildCohortQuery</span>(cohortExpression, <span class="at">options =</span> CirceR<span class="sc">::</span><span class="fu">createGenerateOptions</span>(<span class="at">generateStats =</span> <span class="cn">FALSE</span>))</span>
<span id="cb11-17"><a href="#cb11-17"></a>  <span class="co"># 6) Append the definition to the Cohorts to create list</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>  cohortsToCreate <span class="ot">&lt;-</span> <span class="fu">rbind</span>(cohortsToCreate, <span class="fu">data.frame</span>(<span class="at">cohortId =</span> i, <span class="co"># cohort_definition_id</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>                                                       <span class="at">cohortName =</span> cohortName, <span class="co"># internal name</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>                                                       <span class="at">json =</span> cohortJson, <span class="co"># json definition of the cohort</span></span>
<span id="cb11-21"><a href="#cb11-21"></a>                                                       <span class="at">sql =</span> cohortSql, <span class="co"># sql to execute</span></span>
<span id="cb11-22"><a href="#cb11-22"></a>                                                       <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>))</span>
<span id="cb11-23"><a href="#cb11-23"></a>}</span>
<span id="cb11-24"><a href="#cb11-24"></a></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="co"># Create the cohort tables names</span></span>
<span id="cb11-26"><a href="#cb11-26"></a>cohortTableNames <span class="ot">&lt;-</span> CohortGenerator<span class="sc">::</span><span class="fu">getCohortTableNames</span>(<span class="at">cohortTable =</span> <span class="st">"internal_training"</span>)</span>
<span id="cb11-27"><a href="#cb11-27"></a><span class="co"># Create the cohort tables (drops tables if exist)</span></span>
<span id="cb11-28"><a href="#cb11-28"></a>CohortGenerator<span class="sc">::</span><span class="fu">createCohortTables</span>(<span class="at">connectionDetails =</span> connectionDetails,</span>
<span id="cb11-29"><a href="#cb11-29"></a>                                                        <span class="at">cohortDatabaseSchema =</span> <span class="st">"results"</span>,</span>
<span id="cb11-30"><a href="#cb11-30"></a>                                                        <span class="at">cohortTableNames =</span> cohortTableNames)</span>
<span id="cb11-31"><a href="#cb11-31"></a><span class="co"># Generate the cohorts</span></span>
<span id="cb11-32"><a href="#cb11-32"></a>cohortsGenerated <span class="ot">&lt;-</span> CohortGenerator<span class="sc">::</span><span class="fu">generateCohortSet</span>(<span class="at">connectionDetails =</span> connectionDetails,</span>
<span id="cb11-33"><a href="#cb11-33"></a>                                                       <span class="at">cdmDatabaseSchema =</span> <span class="st">"public"</span>,</span>
<span id="cb11-34"><a href="#cb11-34"></a>                                                       <span class="at">cohortDatabaseSchema =</span> <span class="st">"results"</span>,</span>
<span id="cb11-35"><a href="#cb11-35"></a>                                                       <span class="at">cohortTableNames =</span> cohortTableNames,</span>
<span id="cb11-36"><a href="#cb11-36"></a>                                                       <span class="at">cohortDefinitionSet =</span> cohortsToCreate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cohortgenerator-1" class="slide level2">
<h2>CohortGenerator</h2>
<p>Now we can read the cohorts that we have generated and see that the results are the same that we had on ATLAS:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">cdm_from_con</span>(</span>
<span id="cb12-2"><a href="#cb12-2"></a>  db,</span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="at">cdm_schema =</span> <span class="st">"public"</span>,</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="at">write_schema =</span> <span class="st">"results"</span>,</span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="at">cohort_tables =</span> <span class="st">"internal_training"</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>)</span>
<span id="cb12-7"><a href="#cb12-7"></a>cdm<span class="sc">$</span>internal_training <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cohort_definition_id) <span class="sc">%&gt;%</span> <span class="fu">tally</span>() <span class="sc">%&gt;%</span> <span class="fu">collect</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  cohort_definition_id     n
                 &lt;dbl&gt; &lt;dbl&gt;
1                    1  3047
2                    2 36059</code></pre>
</div>
</div>
</section>
<section id="cohortdiagnostics" class="slide level2">
<h2>CohortDiagnostics</h2>
<p>When we have a cohort a way to evaluate it, validate, see if the results are the expected and more is <a href="https://github.com/OHDSI/CohortDiagnostics/">CohortDiagnostics</a>.</p>
<p>CohortDiagnostics is:</p>
<ul>
<li><p>Easy to execute.</p></li>
<li><p>Very slow (~hours in COVID AURUM, 2 days in GOLD 3/4 days in AURUM).</p></li>
<li><p>“Easy?” to share.</p></li>
</ul>
</section>
<section id="cohortdiagnostics-1" class="slide level2">
<h2>CohortDiagnostics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(CohortDiagnostics)</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="fu">executeDiagnostics</span>(</span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="at">cohortDefinitionSet =</span> cohortsToCreate,</span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="at">exportFolder =</span> <span class="st">"export"</span>,</span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="at">cohortTableNames =</span> cohortTableNames,</span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="at">cohortDatabaseSchema =</span> <span class="st">"results"</span>,</span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="at">cdmDatabaseSchema =</span> <span class="st">"public"</span>,</span>
<span id="cb14-9"><a href="#cb14-9"></a>  <span class="at">databaseId =</span> <span class="st">"SUBSET_AURUM"</span>,</span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="at">connectionDetails =</span> connectionDetails</span>
<span id="cb14-11"><a href="#cb14-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h3 id="show-cohort-diagnostics-results.">Show cohort diagnostics results.</h3>
</section>
<section id="incidenceprevalence" class="slide level2">
<h2>IncidencePrevalence</h2>
<p>Let’s say that we are happy with the results.</p>
<p>We want to compute the incidence and point prevalence of this two outcomes (cohorts).</p>
<p>IncidencePrevalence package: <a href="https://github.com/darwin-eu/IncidencePrevalence/" class="uri">https://github.com/darwin-eu/IncidencePrevalence/</a>.</p>
</section>
<section id="incidenceprevalence-1" class="slide level2">
<h2>IncidencePrevalence</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>server_dbi <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_SERVER_DBI_gold_202007"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a>user       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_USER"</span>)</span>
<span id="cb15-3"><a href="#cb15-3"></a>password   <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_PASSWORD"</span>)</span>
<span id="cb15-4"><a href="#cb15-4"></a>port       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_PORT"</span>) </span>
<span id="cb15-5"><a href="#cb15-5"></a>host       <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"DB_HOST"</span>) </span>
<span id="cb15-6"><a href="#cb15-6"></a>db <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb15-7"><a href="#cb15-7"></a>  RPostgres<span class="sc">::</span><span class="fu">Postgres</span>(),</span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="at">dbname =</span> server_dbi,</span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="at">port =</span> port,</span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="at">host =</span> host,</span>
<span id="cb15-11"><a href="#cb15-11"></a>  <span class="at">user =</span> user,</span>
<span id="cb15-12"><a href="#cb15-12"></a>  <span class="at">password =</span> password</span>
<span id="cb15-13"><a href="#cb15-13"></a>)</span>
<span id="cb15-14"><a href="#cb15-14"></a></span>
<span id="cb15-15"><a href="#cb15-15"></a>cdm <span class="ot">&lt;-</span> <span class="fu">cdm_from_con</span>(</span>
<span id="cb15-16"><a href="#cb15-16"></a>  db,</span>
<span id="cb15-17"><a href="#cb15-17"></a>  <span class="at">cdm_schema =</span> <span class="st">"public"</span>,</span>
<span id="cb15-18"><a href="#cb15-18"></a>  <span class="at">write_schema =</span> <span class="st">"results"</span>,</span>
<span id="cb15-19"><a href="#cb15-19"></a>  <span class="at">cohort_tables =</span> <span class="st">"internal_training"</span></span>
<span id="cb15-20"><a href="#cb15-20"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="incidenceprevalence-2" class="slide level2">
<h2>IncidencePrevalence</h2>
<p>Compute the denominator population (~6 minutes in CPRD GOLD).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>denominator_population <span class="ot">&lt;-</span> <span class="fu">collect_denominator_pops</span>(</span>
<span id="cb16-2"><a href="#cb16-2"></a>  cdm,</span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="at">study_start_date =</span> <span class="fu">as.Date</span>(<span class="st">"2017-01-01"</span>),</span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="at">study_end_date =</span> <span class="fu">as.Date</span>(<span class="st">"2019-12-31"</span>),</span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="at">study_age_stratas =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">150</span>), <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">19</span>), <span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">39</span>), <span class="fu">c</span>(<span class="dv">40</span>,<span class="dv">59</span>), <span class="fu">c</span>(<span class="dv">60</span>,<span class="dv">79</span>), <span class="fu">c</span>(<span class="dv">80</span>,<span class="dv">150</span>)),</span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="at">study_sex_stratas =</span> <span class="fu">c</span>(<span class="st">"Both"</span>, <span class="st">"Male"</span>, <span class="st">"Female"</span>),</span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="at">study_days_prior_history =</span> <span class="dv">180</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="collect_denominator_pops" class="slide level2">
<h2>collect_denominator_pops</h2>
<p>It provides 4 outputs:</p>
<p>-Denominator populations as cohorts</p>
<p>-Settings (parameters used in each denominator population)</p>
<p>-Attrition</p>
<p>-SQL queries executed in the database</p>
</section>
<section id="denominator-populations" class="slide level2">
<h2>Denominator populations</h2>

<img data-src="Presentation_Theory_files/inc1.png" class="r-stretch"></section>
<section id="settings" class="slide level2">
<h2>Settings</h2>

<img data-src="Presentation_Theory_files/inc2.png" class="r-stretch"></section>
<section id="attrition" class="slide level2">
<h2>Attrition</h2>

<img data-src="Presentation_Theory_files/inc3.png" class="r-stretch"></section>
<section id="sql-queries" class="slide level2">
<h2>SQL queries</h2>

<img data-src="Presentation_Theory_files/inc4.png" class="r-stretch"></section>
<section id="compute-incidence" class="slide level2">
<h2>Compute incidence</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>cdm[[<span class="st">"denominator_population"</span>]] <span class="ot">&lt;-</span> denominator_population<span class="sc">$</span>denominator_populations</span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a>incidence <span class="ot">&lt;-</span> <span class="fu">collect_pop_incidence</span>(</span>
<span id="cb17-4"><a href="#cb17-4"></a>  cdm,</span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="at">table_name_denominator =</span> <span class="st">"denominator_population"</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="at">table_name_outcomes =</span> <span class="st">"internal_training"</span>,</span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="at">cohort_ids_denominator_pops =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>,</span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="at">cohort_ids_outcomes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="at">time_interval =</span> <span class="st">"years"</span>,</span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="at">outcome_washout_windows =</span> <span class="dv">180</span>,</span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="at">minimum_cell_count =</span> <span class="dv">5</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="collect_pop_incidence" class="slide level2">
<h2>collect_pop_incidence</h2>
<ul>
<li><p>Estimates</p></li>
<li><p>Settings</p></li>
<li><p>Attrition</p></li>
<li><p>Person table</p></li>
</ul>
</section>
<section id="estimates" class="slide level2">
<h2>Estimates</h2>

<img data-src="Presentation_Theory_files/inc5.png" class="r-stretch"></section>
<section id="settings-1" class="slide level2">
<h2>Settings</h2>

<img data-src="Presentation_Theory_files/inc6.png" class="r-stretch"></section>
<section id="attrition-1" class="slide level2">
<h2>Attrition</h2>

<img data-src="Presentation_Theory_files/inc7.png" class="r-stretch"></section>
<section id="person-table" class="slide level2">
<h2>Person table</h2>

<img data-src="Presentation_Theory_files/inc8.png" class="r-stretch"></section>
<section id="visualization" class="slide level2">
<h2>Visualization</h2>
<p>It is not included in the package but we can write simple ggplot codes to visualize the results.</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb18-2"><a href="#cb18-2"></a>inc <span class="ot">&lt;-</span> incidence<span class="sc">$</span>incidence_estimates <span class="sc">%&gt;%</span> <span class="fu">semi_join</span>(incidence<span class="sc">$</span>analysis_settings <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cohort_id_denominator_pop <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">outcome =</span> <span class="fu">if_else</span>(incidence_analysis_id <span class="sc">&lt;</span> <span class="dv">19</span>, <span class="st">"pancreatitis"</span>, <span class="st">"acute kidney injury"</span>))</span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="fu">ggplot</span>(inc, <span class="fu">aes</span>(<span class="at">x=</span>time, <span class="at">y=</span>ir_100000_pys, <span class="at">color=</span>outcome)) <span class="sc">+</span> </span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>ir_100000_pys_low, <span class="at">ymax=</span>ir_100000_pys_high), <span class="at">width=</span>.<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">50</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualization-1" class="slide level2">
<h2>Visualization</h2>

<img data-src="Presentation_Theory_files/figure-revealjs/unnamed-chunk-21-1.png" width="960" class="r-stretch"></section>
<section id="by-gender-and-age-group" class="slide level2">
<h2>By Gender and Age group</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>inc <span class="ot">&lt;-</span> incidence<span class="sc">$</span>incidence_estimates <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">inner_join</span>(incidence<span class="sc">$</span>analysis_settings) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">inner_join</span>(denominator_population<span class="sc">$</span>denominator_settings, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"cohort_id_denominator_pop"</span> <span class="ot">=</span> <span class="st">"cohort_definition_id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">mutate</span>(<span class="at">outcome =</span> <span class="fu">if_else</span>(cohort_id_outcome  <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"pancreatitis"</span>, <span class="st">"acute kidney injury"</span>))</span>
<span id="cb19-5"><a href="#cb19-5"></a></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="fu">ggplot</span>(inc, <span class="fu">aes</span>(<span class="at">x=</span>time, <span class="at">y=</span>ir_100000_pys, <span class="at">color=</span>outcome)) <span class="sc">+</span> </span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>ir_100000_pys_low, <span class="at">ymax=</span>ir_100000_pys_high), <span class="at">width=</span>.<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">180</span>) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(sex_strata), <span class="at">cols =</span> <span class="fu">vars</span>(age_strata))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="by-gender-and-age-group-1" class="slide level2">
<h2>By Gender and Age group</h2>

<img data-src="Presentation_Theory_files/figure-revealjs/unnamed-chunk-23-1.png" width="960" class="r-stretch"></section>
<section id="prevalence" class="slide level2">
<h2>Prevalence</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>cdm[[<span class="st">"denominator_population"</span>]] <span class="ot">&lt;-</span> denominator_population<span class="sc">$</span>denominator_populations</span>
<span id="cb20-2"><a href="#cb20-2"></a></span>
<span id="cb20-3"><a href="#cb20-3"></a>point_prevalence <span class="ot">&lt;-</span> <span class="fu">collect_pop_prevalence</span>(</span>
<span id="cb20-4"><a href="#cb20-4"></a>  cdm,</span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="at">table_name_denominator =</span> <span class="st">"denominator_population"</span>,</span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="at">table_name_outcomes =</span> <span class="st">"internal_training"</span>,</span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="at">cohort_ids_denominator_pops =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>,</span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="at">cohort_ids_outcomes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb20-9"><a href="#cb20-9"></a>  <span class="at">type =</span> <span class="st">"point"</span>,</span>
<span id="cb20-10"><a href="#cb20-10"></a>  <span class="at">time_intervals =</span> <span class="st">"years"</span>,</span>
<span id="cb20-11"><a href="#cb20-11"></a>  <span class="at">points =</span> <span class="st">"middle"</span>,</span>
<span id="cb20-12"><a href="#cb20-12"></a>  <span class="at">confidence_interval =</span> <span class="st">"binomial"</span>,</span>
<span id="cb20-13"><a href="#cb20-13"></a>  <span class="at">minimum_cell_count =</span> <span class="dv">5</span></span>
<span id="cb20-14"><a href="#cb20-14"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="by-gender-and-age-group-2" class="slide level2">
<h2>By Gender and Age group</h2>

<img data-src="Presentation_Theory_files/figure-revealjs/unnamed-chunk-25-1.png" width="960" class="r-stretch"></section>
<section id="prevalence-1" class="slide level2">
<h2>Prevalence</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 108
Columns: 28
$ prevalence_analysis_id            &lt;chr&gt; "1", "1", "1", "10", "10", "10", "11…
$ time                              &lt;chr&gt; "2017", "2018", "2019", "2017", "201…
$ numerator                         &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ denominator                       &lt;int&gt; 3614928, 3406202, 3281162, 1014846, …
$ prev                              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ prev_low                          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ prev_high                         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ start_time                        &lt;date&gt; 2017-07-01, 2018-07-01, 2019-07-01,…
$ end_time                          &lt;date&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ cohort_obscured                   &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", …
$ result_obscured                   &lt;chr&gt; "TRUE", "TRUE", "TRUE", "TRUE", "TRU…
$ type                              &lt;chr&gt; "point", "point", "point", "point", …
$ point                             &lt;chr&gt; "middle", "middle", "middle", "middl…
$ time_interval                     &lt;chr&gt; "years", "years", "years", "years", …
$ minimum_representative_proportion &lt;dbl&gt; 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0…
$ full_periods_required             &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
$ cohort_id_outcome                 &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "…
$ cohort_id_denominator_pop         &lt;chr&gt; "1", "1", "1", "10", "10", "10", "11…
$ confidence_interval               &lt;chr&gt; "binomial", "binomial", "binomial", …
$ minimum_cell_count                &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, …
$ age_strata                        &lt;chr&gt; "0;150", "0;150", "0;150", "40;59", …
$ min_age                           &lt;dbl&gt; 0, 0, 0, 40, 40, 40, 40, 40, 40, 40,…
$ max_age                           &lt;dbl&gt; 150, 150, 150, 59, 59, 59, 59, 59, 5…
$ sex_strata                        &lt;chr&gt; "Both", "Both", "Both", "Both", "Bot…
$ study_days_prior_history          &lt;dbl&gt; 180, 180, 180, 180, 180, 180, 180, 1…
$ study_start_date                  &lt;date&gt; 2017-01-01, 2017-01-01, 2017-01-01,…
$ study_end_date                    &lt;date&gt; 2019-12-31, 2019-12-31, 2019-12-31,…
$ outcome                           &lt;chr&gt; "pancreatitis", "pancreatitis", "pan…</code></pre>
</div>
</div>
</section>
<section id="recap" class="slide level2">
<h2>Recap</h2>
<ul>
<li>Connect to the database using <a href="https://github.com/OHDSI/DatabaseConnector">databaseConnector</a>.</li>
<li>Concept set and cohort definitions.</li>
<li>Built a concept set using <a href="https://github.com/darwin-eu/CodelistGenerator">CodelistGenerator</a>.</li>
<li>Built a cohort definition using <a href="https://academy.ehden.eu/course/view.php?id=8">ATLAS</a>.</li>
<li>Instantiate a cohort in the database using <a href="https://github.com/OHDSI/CohortGenerator">CohortGenerator</a>.</li>
<li>Evaluate a cohort with <a href="https://github.com/OHDSI/CohortDiagnostics/">CohortDiagnostics</a>.</li>
<li>Compute the incidence and prevalence using <a href="https://github.com/darwin-eu/IncidencePrevalence/">IncidencePrevalence</a>.</li>
</ul>
</section>
<section id="practical" class="slide level2">
<h2>Practical</h2>
<p>We <strong>STRONGLY</strong> “recommend” to do it:</p>
<ol type="1">
<li><p>Pick a topic and build a concept set</p></li>
<li><p>Build a cohort (remember to set a duration)</p></li>
<li><p>Instantiate the cohort in the database</p></li>
<li><p>Use IncidencePrevalence to compute incidence or prevalence</p></li>
<li><p>Share the code with someone else</p></li>
</ol>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Presentation_Theory_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Presentation_Theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Presentation_Theory_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Presentation_Theory_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>